{{ 'hero-slider.css' | asset_url | stylesheet_tag }}
<section
  id="HeroSlider-{{ section.id }}"
  class="hero-slider"
  style="--hero-height-desktop: {{ section.settings.height_desktop | default: 600 }}px; --hero-height-mobile: {{ section.settings.height_mobile | default: 480 }}px; --hero-overlay-opacity: {{ section.settings.overlay_opacity | at_most: 60 | divided_by: 100.0 }};"
  data-autoplay="{{ section.settings.autoplay }}"
  data-speed="{{ section.settings.autoplay_speed | default: 5000 }}"
  data-show-dots="{{ section.settings.show_dots }}"
  data-show-arrows="{{ section.settings.show_arrows }}"
>
  <div class="hero-slider__viewport">
    <ul class="hero-slider__track" role="list">
      {%- for block in section.blocks -%}
        {%- assign desktop = block.settings.desktop_bg_image -%}
        {%- assign mobile = block.settings.mobile_bg_image -%}
        <li class="hero-slider__slide" {{ block.shopify_attributes }}>
          <div class="hero-slider__media">
            <picture>
              {%- if mobile != blank -%}
                <source media="(max-width: 749px)"
                        srcset="
                          {{ mobile | image_url: width: 800 }} 800w,
                          {{ mobile | image_url: width: 1200 }} 1200w,
                          {{ mobile | image_url: width: 1600 }} 1600w
                        ">
              {%- endif -%}
              <img
                class="hero-slider__img"
                srcset="
                  {{ desktop | image_url: width: 800 }} 800w,
                  {{ desktop | image_url: width: 1200 }} 1200w,
                  {{ desktop | image_url: width: 1800 }} 1800w,
                  {{ desktop | image_url: width: 2400 }} 2400w
                "
                sizes="100vw"
                src="{{ desktop | image_url: width: 1800 }}"
                width="{{ desktop.width }}"
                height="{{ desktop.height }}"
                alt="{{ desktop.alt | escape }}"
                {% if forloop.first == false %}loading="lazy"{% endif %}
              >
            </picture>
            <div class="hero-slider__overlay" aria-hidden="true"></div>
          </div>
          <div class="hero-slider__content hero-slider__content--{{ block.settings.text_alignment | default: 'left' }}" style="--content-max-width: {{ section.settings.content_max_width | default: 900 }}px; --content-position: {{ section.settings.content_position | default: 'left' }};">
            {%- if block.settings.heading != blank -%}
              <h2 class="hero-slider__heading">{{ block.settings.heading }}</h2>
            {%- endif -%}
            {%- if block.settings.body_text != blank -%}
              <div class="hero-slider__text rte">{{ block.settings.body_text }}</div>
            {%- endif -%}
            {%- if block.settings.button_label != blank and block.settings.button_link != blank -%}
              <a class="button hero-slider__button" href="{{ block.settings.button_link }}" aria-label="{{ block.settings.button_label | escape }}">{{ block.settings.button_label }}</a>
            {%- endif -%}
          </div>
        </li>
      {%- endfor -%}
    </ul>
    {%- if section.settings.show_arrows -%}
      <button class="hero-slider__arrow hero-slider__arrow--prev" type="button" aria-label="Previous slide">
        <span class="svg-wrapper">{{ 'icon-caret.svg' | inline_asset_content }}</span>
      </button>
      <button class="hero-slider__arrow hero-slider__arrow--next" type="button" aria-label="Next slide">
        <span class="svg-wrapper">{{ 'icon-caret.svg' | inline_asset_content }}</span>
      </button>
    {%- endif -%}
    {%- if section.settings.show_dots -%}
      <div class="hero-slider__dots" role="tablist" aria-label="Hero slider pagination"></div>
    {%- endif -%}
  </div>
</section>
{{ 'hero-slider.js' | asset_url | script_tag }}

{% schema %}
{
  "name": "Hero Slider",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "range",
      "id": "height_desktop",
      "min": 300,
      "max": 900,
      "step": 10,
      "unit": "px",
      "label": "Height (desktop)",
      "default": 600
    },
    {
      "type": "range",
      "id": "height_mobile",
      "min": 280,
      "max": 800,
      "step": 10,
      "unit": "px",
      "label": "Height (mobile)",
      "default": 480
    },
    {
      "type": "range",
      "id": "overlay_opacity",
      "min": 0,
      "max": 60,
      "step": 2,
      "unit": "%",
      "label": "Overlay opacity",
      "default": 20
    },
    {
      "type": "checkbox",
      "id": "autoplay",
      "label": "Autoplay",
      "default": true
    },
    {
      "type": "number",
      "id": "autoplay_speed",
      "label": "Autoplay speed (ms)",
      "default": 5000
    },
    {
      "type": "checkbox",
      "id": "show_dots",
      "label": "Show dots",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_arrows",
      "label": "Show arrows",
      "default": false
    },
    {
      "type": "number",
      "id": "content_max_width",
      "label": "Content max width (px)",
      "default": 900
    },
    {
      "type": "select",
      "id": "content_position",
      "label": "Content position (desktop)",
      "default": "left",
      "options": [
        { "value": "left", "label": "Left" },
        { "value": "center", "label": "Center" }
      ]
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Top padding",
      "default": 0
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Bottom padding",
      "default": 0
    }
  ],
  "blocks": [
    {
      "type": "slide",
      "name": "Slide",
      "settings": [
        {
          "type": "image_picker",
          "id": "desktop_bg_image",
          "label": "Desktop background image"
        },
        {
          "type": "image_picker",
          "id": "mobile_bg_image",
          "label": "Mobile background image (optional)"
        },
        {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "default": "JOY IN EVERY CHEW"
        },
        {
          "type": "richtext",
          "id": "body_text",
          "label": "Supporting text",
          "default": "<p>Playful Gummies | Joyful Wellness | Ecoâ€‘Friendly Packaging</p>"
        },
        {
          "type": "text",
          "id": "button_label",
          "label": "Button label",
          "default": "SHOP NOW"
        },
        {
          "type": "url",
          "id": "button_link",
          "label": "Button link"
        },
        {
          "type": "select",
          "id": "text_alignment",
          "label": "Text alignment",
          "default": "left",
          "options": [
            { "value": "left", "label": "Left" },
            { "value": "center", "label": "Center" }
          ]
        }
      ]
    }
  ],
  "max_blocks": 8,
  "presets": [
    {
      "name": "Hero Slider",
      "blocks": [
        { "type": "slide" },
        { "type": "slide" }
      ]
    }
  ]
}
{% endschema %}


