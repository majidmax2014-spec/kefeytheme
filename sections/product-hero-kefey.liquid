{{ 'kefey-product.css' | asset_url | stylesheet_tag }}

{%- liquid
  assign heading_ff_value = 'inherit'
  case section.settings.heading_font_family
    when 'heading'
      assign heading_ff_value = 'var(--font-heading-family)'
    when 'body'
      assign heading_ff_value = 'var(--font-body-family)'
    when 'system'
      assign heading_ff_value = '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif'
    when 'custom'
      if section.settings.heading_font_family_custom != blank
        assign heading_ff_value = section.settings.heading_font_family_custom
      endif
  endcase

  assign body_ff_value = 'inherit'
  case section.settings.body_font_family
    when 'heading'
      assign body_ff_value = 'var(--font-heading-family)'
    when 'body'
      assign body_ff_value = 'var(--font-body-family)'
    when 'system'
      assign body_ff_value = '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif'
    when 'custom'
      if section.settings.body_font_family_custom != blank
        assign body_ff_value = section.settings.body_font_family_custom
      endif
  endcase

  assign cta_href = section.settings.cta_link
  if cta_href == blank
    assign cta_href = '#KefeyPurchase-main_product_kefey'
  endif
-%}

<section
  class="kefey-hero{% if section.settings.dot_enabled %} kefey-hero--dots{% endif %}"
  style="
    --kh-pt: {{ section.settings.padding_top }}px;
    --kh-pb: {{ section.settings.padding_bottom }}px;
    --kh-max: {{ section.settings.content_max_width }}px;
    --kh-left-max: {{ section.settings.left_col_max_width }}px;
    --kh-heading-color: {{ section.settings.heading_color }};
    --kh-body-color: {{ section.settings.body_color }};
    --kh-btn-bg: {{ section.settings.button_bg_color }};
    --kh-btn-color: {{ section.settings.button_text_color }};
    --kh-h-ff: {{ heading_ff_value }};
    --kh-h-fs-d: {{ section.settings.heading_font_size_desktop }}px;
    --kh-h-fs-m: {{ section.settings.heading_font_size_mobile }}px;
    --kh-h-fw: {{ section.settings.heading_font_weight }};
    --kh-h-lh: {{ section.settings.heading_line_height }};
    --kh-h-ls: {{ section.settings.heading_letter_spacing }}px;
    --kh-b-ff: {{ body_ff_value }};
    --kh-b-fs-d: {{ section.settings.body_font_size_desktop }}px;
    --kh-b-fs-m: {{ section.settings.body_font_size_mobile }}px;
    --kh-b-fw: {{ section.settings.body_font_weight }};
    --kh-b-lh: {{ section.settings.body_line_height }};
    --kh-b-ls: {{ section.settings.body_letter_spacing }}px;
    --kh-overlay: {{ section.settings.mobile_overlay_opacity | divided_by: 100.0 }};
    --kefey-button-font-size-desktop: {{ section.settings.button_font_size_desktop }}px;
    --kefey-button-font-size-mobile: {{ section.settings.button_font_size_mobile }}px;
    --kefey-button-font-weight: {{ section.settings.button_font_weight }};
    --kefey-button-letter-spacing: {{ section.settings.button_letter_spacing }}px;
    --kefey-button-padding-vertical: {{ section.settings.button_padding_vertical }}px;
    --kefey-button-padding-horizontal: {{ section.settings.button_padding_horizontal }}px;
    --kefey-button-radius: {{ section.settings.button_border_radius }}px;
    --kefey-banner-text-size-desktop: {{ section.settings.banner_text_font_size_desktop }}px;
    --kefey-banner-text-size-mobile: {{ section.settings.banner_text_font_size_mobile }}px;
    --kefey-benefits-gap-desktop: {{ section.settings.benefits_gap_desktop }}px;
    --kefey-benefits-gap-mobile: {{ section.settings.benefits_gap_mobile }}px;
    --kefey-benefit-icon-size-desktop: {{ section.settings.icon_size_desktop }}px;
    --kefey-benefit-icon-size-mobile: {{ section.settings.icon_size_mobile }}px;
    --kefey-benefit-icon-opacity: {{ section.settings.icon_opacity | divided_by: 100.0 }};
    --kefey-benefit-label-opacity: {{ section.settings.label_opacity | divided_by: 100.0 }};
    --kefey-benefit-label-size-desktop: {{ section.settings.label_font_size_desktop }}px;
    --kefey-benefit-label-size-mobile: {{ section.settings.label_font_size_mobile }}px;
    --kefey-benefit-dot-size: {{ section.settings.dot_size }}px;
    --kefey-benefit-dot-opacity: {{ section.settings.dot_opacity | divided_by: 100.0 }};
  "
>
  <div class="kefey-hero__bg" aria-hidden="true">
    {%- if section.settings.background_image != blank -%}
      {{
        section.settings.background_image
        | image_url: width: 3000
        | image_tag:
          class: 'kefey-hero__bg-image',
          widths: '750, 990, 1200, 1500, 2000, 3000',
          sizes: '100vw',
          loading: 'eager',
          fetchpriority: 'high',
          alt: ''
      }}
    {%- endif -%}
  </div>

  <div class="kefey-hero__overlay" aria-hidden="true"></div>

  <div class="kefey-hero__container">
    <div class="kefey-hero__grid">
      <div class="kefey-hero__content">
        {%- if section.settings.logo_image != blank -%}
          {{
            section.settings.logo_image
            | image_url: width: 500
            | image_tag:
              class: 'kefey-hero__logo',
              widths: '180, 240, 320, 500',
              sizes: '(min-width: 990px) 320px, 220px',
              loading: 'lazy',
              alt: shop.name
          }}
        {%- endif -%}

        {%- if section.settings.eyebrow != blank -%}
          <p class="kefey-hero__eyebrow">{{ section.settings.eyebrow }}</p>
        {%- endif -%}

        <h1 class="kefey-hero__heading">kefey</h1>

        <p class="kefey-hero__subheading">Mood Gummies</p>

        <a class="kefey-hero__cta" href="{{ cta_href }}">SHOP NOW</a>

        {%- if section.settings.description != blank -%}
          <p class="kefey-hero__description">{{ section.settings.description }}</p>
        {%- endif -%}

        {%- if section.blocks.size > 0 -%}
          <div class="kefey-hero__benefits" role="list" aria-label="Product highlights">
            {%- for block in section.blocks -%}
              <div class="kefey-hero__benefit" role="listitem" {{ block.shopify_attributes }}>
                <span class="kefey-hero__benefit-icon" aria-hidden="true">
                  {%- if block.settings.icon_type == 'image' and block.settings.icon_image != blank -%}
                    {{
                      block.settings.icon_image
                      | image_url: width: 120
                      | image_tag:
                        class: 'kefey-hero__benefit-image',
                        widths: '40, 60, 80, 100, 120',
                        sizes: '(min-width: 990px) var(--kefey-benefit-icon-size-desktop, 72px), var(--kefey-benefit-icon-size-mobile, 52px)',
                        loading: 'lazy',
                        alt: ''
                    }}
                  {%- elsif block.settings.icon_type == 'svg' and block.settings.icon_svg != blank -%}
                    {{ block.settings.icon_svg }}
                  {%- elsif block.settings.icon_image != blank -%}
                    {{
                      block.settings.icon_image
                      | image_url: width: 120
                      | image_tag:
                        class: 'kefey-hero__benefit-image',
                        widths: '40, 60, 80, 100, 120',
                        sizes: '(min-width: 990px) var(--kefey-benefit-icon-size-desktop, 72px), var(--kefey-benefit-icon-size-mobile, 52px)',
                        loading: 'lazy',
                        alt: ''
                    }}
                  {%- elsif block.settings.icon_svg != blank -%}
                    {{ block.settings.icon_svg }}
                  {%- else -%}
                    <svg viewBox="0 0 24 24" focusable="false" aria-hidden="true">
                      <path d="M12 2.6C7.2 2.6 3.3 6.5 3.3 11.3c0 6.2 6 10.2 8.3 11.5.2.1.5.1.7 0 2.3-1.2 8.3-5.3 8.3-11.5 0-4.8-3.9-8.7-8.6-8.7zm0 18.2c-1.7-1-6.8-4.5-6.8-9.5 0-3.8 3.1-6.9 6.8-6.9s6.8 3.1 6.8 6.9c0 5-5 8.5-6.8 9.5z"></path>
                      <path d="M10.1 14.7l-2.2-2.2-1.2 1.2 3.4 3.4 6.7-6.7-1.2-1.2z"></path>
                    </svg>
                  {%- endif -%}
                </span>
                <span class="kefey-hero__benefit-label">{{ block.settings.label }}</span>
              </div>
            {%- endfor -%}
          </div>
        {%- endif -%}
      </div>

      <div class="kefey-hero__media">
        {%- if section.settings.product_image != blank -%}
          {{
            section.settings.product_image
            | image_url: width: 1200
            | image_tag:
              class: 'kefey-hero__product',
              widths: '420, 640, 860, 1200',
              sizes: '(min-width: 990px) 42vw, 82vw',
              loading: 'lazy',
              alt: shop.name
          }}
        {%- endif -%}
      </div>
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Kefey Hero",
  "class": "section-kefey-hero",
  "settings": [
    { "type": "header", "content": "Images" },
    { "type": "image_picker", "id": "logo_image", "label": "White logo image" },
    { "type": "image_picker", "id": "background_image", "label": "Background image (merged preferred)" },
    { "type": "image_picker", "id": "product_image", "label": "Separate product image (optional)" },

    { "type": "header", "content": "Content" },
    { "type": "text", "id": "eyebrow", "label": "Eyebrow text", "default": "Live Full Live Kefey" },
    {
      "type": "textarea",
      "id": "description",
      "label": "Description text",
      "default": "A plant-based, star-shaped gummy designed to support your mood, energy, and daily balance."
    },
    { "type": "url", "id": "cta_link", "label": "CTA button link" },

    { "type": "header", "content": "Typography - Heading" },
    {
      "type": "select",
      "id": "heading_font_family",
      "label": "Heading font family",
      "default": "inherit",
      "options": [
        { "value": "inherit", "label": "Theme default" },
        { "value": "heading", "label": "Theme heading font" },
        { "value": "body", "label": "Theme body font" },
        { "value": "system", "label": "System font stack" },
        { "value": "custom", "label": "Custom (use field below)" }
      ]
    },
    { "type": "text", "id": "heading_font_family_custom", "label": "Heading custom font family", "default": "inherit" },
    { "type": "range", "id": "heading_font_size_desktop", "label": "Heading font size desktop", "min": 40, "max": 220, "step": 2, "default": 102, "unit": "px" },
    { "type": "range", "id": "heading_font_size_mobile", "label": "Heading font size mobile", "min": 24, "max": 120, "step": 2, "default": 64, "unit": "px" },
    { "type": "range", "id": "heading_font_weight", "label": "Heading font weight", "min": 300, "max": 900, "step": 100, "default": 700 },
    { "type": "range", "id": "heading_line_height", "label": "Heading line height", "min": 0.8, "max": 1.6, "step": 0.1, "default": 1.0 },
    { "type": "range", "id": "heading_letter_spacing", "label": "Heading letter spacing", "min": -2.0, "max": 6.0, "step": 0.1, "default": 0.0, "unit": "px" },

    { "type": "header", "content": "Typography - Body" },
    {
      "type": "select",
      "id": "body_font_family",
      "label": "Body font family",
      "default": "inherit",
      "options": [
        { "value": "inherit", "label": "Theme default" },
        { "value": "heading", "label": "Theme heading font" },
        { "value": "body", "label": "Theme body font" },
        { "value": "system", "label": "System font stack" },
        { "value": "custom", "label": "Custom (use field below)" }
      ]
    },
    { "type": "text", "id": "body_font_family_custom", "label": "Body custom font family", "default": "inherit" },
    { "type": "range", "id": "body_font_size_desktop", "label": "Body font size desktop", "min": 12, "max": 44, "step": 1, "default": 40, "unit": "px" },
    { "type": "range", "id": "body_font_size_mobile", "label": "Body font size mobile", "min": 10, "max": 34, "step": 1, "default": 24, "unit": "px" },
    { "type": "range", "id": "body_font_weight", "label": "Body font weight", "min": 300, "max": 900, "step": 100, "default": 500 },
    { "type": "range", "id": "body_line_height", "label": "Body line height", "min": 1.0, "max": 2.0, "step": 0.1, "default": 1.3 },
    { "type": "range", "id": "body_letter_spacing", "label": "Body letter spacing", "min": -1.0, "max": 4.0, "step": 0.1, "default": 0.0, "unit": "px" },

    { "type": "header", "content": "Colors" },
    { "type": "color", "id": "heading_color", "label": "Heading text color", "default": "#FFFFFF" },
    { "type": "color", "id": "body_color", "label": "Body text color", "default": "#FFFFFF" },
    { "type": "color", "id": "button_bg_color", "label": "Button background color", "default": "#E85A3A" },
    { "type": "color", "id": "button_text_color", "label": "Button text color", "default": "#FFFFFF" },

    { "type": "header", "content": "Button Typography" },
    { "type": "range", "id": "button_font_size_desktop", "label": "Button font size desktop", "min": 10, "max": 40, "step": 1, "default": 16, "unit": "px" },
    { "type": "range", "id": "button_font_size_mobile", "label": "Button font size mobile", "min": 10, "max": 30, "step": 1, "default": 14, "unit": "px" },
    { "type": "range", "id": "button_font_weight", "label": "Button font weight", "min": 300, "max": 900, "step": 100, "default": 600 },
    { "type": "range", "id": "button_letter_spacing", "label": "Button letter spacing", "min": -2.0, "max": 6.0, "step": 0.1, "default": 0.0, "unit": "px" },

    { "type": "header", "content": "Button Padding" },
    { "type": "range", "id": "button_padding_vertical", "label": "Button vertical padding", "min": 6, "max": 30, "step": 1, "default": 14, "unit": "px" },
    { "type": "range", "id": "button_padding_horizontal", "label": "Button horizontal padding", "min": 10, "max": 60, "step": 1, "default": 28, "unit": "px" },
    { "type": "range", "id": "button_border_radius", "label": "Button border radius", "min": 0, "max": 40, "step": 1, "default": 6, "unit": "px" },

    { "type": "header", "content": "Banner Description Text" },
    { "type": "range", "id": "banner_text_font_size_desktop", "label": "Banner text size desktop", "min": 12, "max": 60, "step": 1, "default": 18, "unit": "px" },
    { "type": "range", "id": "banner_text_font_size_mobile", "label": "Banner text size mobile", "min": 12, "max": 40, "step": 1, "default": 16, "unit": "px" },

    { "type": "header", "content": "Benefits Row" },
    { "type": "range", "id": "benefits_gap_desktop", "label": "Gap desktop", "min": 8, "max": 80, "step": 1, "default": 30, "unit": "px" },
    { "type": "range", "id": "benefits_gap_mobile", "label": "Gap mobile", "min": 6, "max": 40, "step": 1, "default": 18, "unit": "px" },
    { "type": "range", "id": "icon_size_desktop", "label": "Icon size desktop", "min": 24, "max": 120, "step": 1, "default": 72, "unit": "px" },
    { "type": "range", "id": "icon_size_mobile", "label": "Icon size mobile", "min": 18, "max": 96, "step": 1, "default": 52, "unit": "px" },
    { "type": "range", "id": "icon_opacity", "label": "Icon opacity", "min": 0, "max": 100, "step": 1, "default": 100, "unit": "%" },
    { "type": "range", "id": "label_opacity", "label": "Label opacity", "min": 0, "max": 100, "step": 1, "default": 100, "unit": "%" },
    { "type": "range", "id": "label_font_size_desktop", "label": "Label size desktop", "min": 10, "max": 40, "step": 1, "default": 34, "unit": "px" },
    { "type": "range", "id": "label_font_size_mobile", "label": "Label size mobile", "min": 9, "max": 28, "step": 1, "default": 20, "unit": "px" },
    { "type": "checkbox", "id": "dot_enabled", "label": "Show dot separators", "default": true },
    { "type": "range", "id": "dot_size", "label": "Dot size", "min": 2, "max": 16, "step": 1, "default": 6, "unit": "px" },
    { "type": "range", "id": "dot_opacity", "label": "Dot opacity", "min": 0, "max": 100, "step": 1, "default": 80, "unit": "%" },

    { "type": "header", "content": "Layout" },
    { "type": "range", "id": "content_max_width", "label": "Content max width", "min": 1000, "max": 1800, "step": 20, "default": 1340, "unit": "px" },
    { "type": "range", "id": "left_col_max_width", "label": "Left column max width", "min": 420, "max": 860, "step": 10, "default": 650, "unit": "px" },
    { "type": "range", "id": "padding_top", "label": "Padding top", "min": 0, "max": 220, "step": 4, "default": 40, "unit": "px" },
    { "type": "range", "id": "padding_bottom", "label": "Padding bottom", "min": 0, "max": 220, "step": 4, "default": 44, "unit": "px" },
    { "type": "range", "id": "mobile_overlay_opacity", "label": "Mobile overlay opacity", "min": 0, "max": 70, "step": 5, "default": 20, "unit": "%" }
  ],
  "blocks": [
    {
      "type": "benefit",
      "name": "Benefit",
      "settings": [
        {
          "type": "select",
          "id": "icon_type",
          "label": "Icon type",
          "default": "image",
          "options": [
            { "value": "image", "label": "Image" },
            { "value": "svg", "label": "SVG" }
          ]
        },
        { "type": "image_picker", "id": "icon_image", "label": "Icon image" },
        { "type": "textarea", "id": "icon_svg", "label": "Icon SVG (paste raw SVG)" },
        { "type": "text", "id": "label", "label": "Label", "default": "Vegan" }
      ]
    }
  ],
  "max_blocks": 12,
  "presets": [
    {
      "name": "Kefey Hero",
      "blocks": [
        { "type": "benefit", "settings": { "label": "Vegan" } },
        { "type": "benefit", "settings": { "label": "Gluten Free" } },
        { "type": "benefit", "settings": { "label": "Non GMO" } },
        { "type": "benefit", "settings": { "label": "Gelatin Free" } },
        { "type": "benefit", "settings": { "label": "Halal" } },
        { "type": "benefit", "settings": { "label": "Eco-Friendly" } }
      ]
    }
  ]
}
{% endschema %}
